<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>League Analyzer • Dynasty Hub</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@200;300;400;500;600;700&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Product+Sans:wght@100;200;300;400;500;700;900&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css?family=Google+Sans:100,200,300,400,500,600,700" rel="stylesheet" />
  <link href="../manifest.webmanifest?v=20250827002411?v=20250826235225" rel="manifest" />
  <link rel="apple-touch-icon" sizes="180x180" href="../assets/icons/apple-touch-icon-180.png?v=20250926r5c" />
  <meta name="theme-color" content="#0D0E1B" />
  <link href="../styles/styles.css?v=20250827002411?v=20250826235225" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" type="image/png" sizes="32x32" href="../assets/icons/favicon-32.png?v=20250926r5c" />
  <link rel="icon" type="image/png" sizes="16x16" href="../assets/icons/favicon-16.png?v=20250926r5c" />
  <link rel="shortcut icon" href="../assets/icons/favicon.ico?v=20250926r5c" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body data-page="analyzer" class="p-2 sm:p-4">
  <div aria-hidden="true" id="starfield">
    <div id="stars"></div>
    <div id="stars1"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>
  </div>
  <div id="noise-overlay"></div>
  <div class="relative z-10 content-wrapper">
    <div id="header-container">
      <header class="app-header glass-panel">
    <!-- ROW 1: Logo, Home, Rosters, Ownership, L.Analyze, Research -->
    <div class="header-row" id="primary-header-row">
        <div class="logo-container">
            <img src="../assets/welcome/welcome-logo-256.png" alt="Logo" class="app-logo"/>
        </div>
        <div class="nav-buttons-container">
            <button class="nav-button" id="homeButton">
                <i class="fa-solid fa-house-user"></i>
                <span>Home</span>
            </button>
            <button class="nav-button" id="rostersButton">
                <i class="fa-solid fa-clipboard-list"></i>
                <span>Rosters</span>
            </button>
            <button class="nav-button" id="ownershipButton">
                <i class="fa-solid fa-percent"></i>
                <span>Ownership</span>
            </button>
            <button class="nav-button active" id="analyzerButton">
                <i class="fa-solid fa-square-poll-vertical"></i>
                <span>L.Analyze</span>
            </button>
            <button class="nav-button" id="researchButton">
                <i class="fa-solid fa-flask"></i>
                <span>Research</span>
            </button>
        </div>
    </div>

    <!-- ROW 2: Username, League Selector, Positional/Lineup Toggle -->
    <div class="header-row" id="secondary-header-row">
        <div class="username-area">
            <input autocapitalize="none" autocomplete="username" autocorrect="off" id="usernameInput" inputmode="text" name="username" placeholder="SLPR Username..." type="text" value="The_Oracle"/>
        </div>
        <div class="custom-select-wrapper">
            <select disabled="" id="leagueSelect">
                <option>Select a league...</option>
            </select>
        </div>
        <div class="view-switcher secondary-switcher">
            <button id="positionalViewBtn">
                <i class="fa-solid fa-id-card"></i>
                <span>Positional</span>
            </button>
            <button id="lineupViewBtn">
                <i class="fa-solid fa-elevator"></i>
                <span>Lineup</span>
            </button>
        </div>
    </div>

    <!-- ROW 3: Start/Sit, Filters, Clear, Search -->
    <div class="header-row" id="filters-row">
        <div class="start-sit-button-container">
            <button class="menu-button" id="startSitButton" type="button" aria-label="Start/Sit Tool">
                <i class="fa-solid fa-elevator"></i>
                <span>Start/Sit</span>
            </button>
        </div>
        <div class="filters-container">
            <div id="positional-filters">
                <button class="filter-btn" data-position="QB">QB</button>
                <button class="filter-btn" data-position="RB">RB</button>
                <button class="filter-btn" data-position="WR">WR</button>
                <button class="filter-btn" data-position="TE">TE</button>
                <button class="filter-btn" data-position="FLX">FLX</button>
            </div>
            <button class="control-button-subtle" id="clearFiltersButton">
                <span class="clear-filters-stack">
                    <i class="fa-solid fa-filter-circle-xmark" aria-hidden="true"></i>
                    <span class="sr-only">Clear filters</span>
                </span>
            </button>
            <div class="compare-controls">
                <button class="control-button hidden" id="compareButton" aria-hidden="true" tabindex="-1" style="display:none;"></button>
                <button id="compareSearchToggle" class="control-button-subtle compare-search-toggle" aria-haspopup="true" aria-expanded="false" aria-controls="compareSearchPopover">
                    <i class="fa-solid fa-magnifying-glass" aria-hidden="true"></i>
                    <span class="sr-only">Search teams</span>
                </button>
                <div id="compareSearchPopover" class="compare-search-popover hidden" role="dialog" aria-modal="false">
                    <button type="button" id="compareSearchClose" class="compare-search-close" aria-label="Close search popover">
                        <i class="fa-solid fa-circle-xmark" aria-hidden="true"></i>
                    </button>
                    <label for="compareSearchInput" class="sr-only">Search teams</label>
                    <input id="compareSearchInput" type="search" placeholder="Search Players…" autocomplete="off" inputmode="search" />
                </div>
            </div>
        </div>
    </div>
</header>
    </div>
    <main class="container mx-auto analyzer-main" id="content">
      <section class="analyzer-hero glass-panel" aria-labelledby="analyzer-hero-heading">
        <div class="analyzer-hero-intro">
          <div class="analyzer-pill">Dynasty Hub Analyzer</div>
          <h1 id="analyzer-hero-heading">League Value &amp; Production Overview</h1>
          <p>Track KTC valuations alongside real Sleeper scoring to uncover strengths across every roster.</p>
        </div>
      </section>

      <div id="loading" class="hidden">
  <div class="loading-overlay" role="alert" aria-live="polite">
    <div class="loading-scene" aria-hidden="true">
      <div class="loading-logo-wrap">
        <img
          src="../assets/welcome/welcome-logo-256.png"
          alt="App logo"
          width="128" height="128"
          decoding="async"
          loading="eager"
          class="loading-logo"
        />
      </div>
      <div class="loading-ring" style="--n: 28; --r: 120px;">
        <span class="ch" style="--i:0;">L</span>
        <span class="ch" style="--i:1;">O</span>
        <span class="ch" style="--i:2;">A</span>
        <span class="ch" style="--i:3;">D</span>
        <span class="ch" style="--i:4;">I</span>
        <span class="ch" style="--i:5;">N</span>
        <span class="ch" style="--i:6;">G</span>
        <span class="ch" style="--i:7;"> </span>
        <span class="ch" style="--i:8;">I</span>
        <span class="ch" style="--i:9;">N</span>
        <span class="ch" style="--i:10;">I</span>
        <span class="ch" style="--i:11;">T</span>
        <span class="ch" style="--i:12;">I</span>
        <span class="ch" style="--i:13;">A</span>
        <span class="ch" style="--i:14;">L</span>
        <span class="ch" style="--i:15;"> </span>
        <span class="ch" style="--i:16;">D</span>
        <span class="ch" style="--i:17;">A</span>
        <span class="ch" style="--i:18;">T</span>
        <span class="ch" style="--i:19;">A</span>
        <span class="ch" style="--i:20;"> </span>
        <span class="ch" style="--i:21;">•</span>
        <span class="ch" style="--i:22;"> </span>
        <span class="ch" style="--i:23;">•</span>
        <span class="ch" style="--i:24;"> </span>
        <span class="ch" style="--i:25;">•</span>
        <span class="ch" style="--i:26;"> </span>
        <span class="ch" style="--i:27;">•</span>
      </div>
    </div>
    <div class="loading-text">
      <span class="loading-message">Loading…</span>
    </div>
  </div>
</div>

      <section id="summaryStats" class="analyzer-summary-grid hidden" aria-live="polite" aria-label="Team summary"></section>

      <section id="infographicContent" class="analyzer-content hidden">
        <div class="analyzer-panels-grid">
          <article class="analyzer-panel glass-panel" id="lineup-panel">
            <header class="analyzer-panel-header">
              <div>
                <h2>Starting Lineup Overview</h2>
                <p>Toggle between market value and combined starter production.</p>
              </div>
              <div class="analyzer-toggle" role="group" aria-label="Lineup metric">
                <button type="button" class="toggle-option active" data-metric="value" aria-pressed="true">Value</button>
                <button type="button" class="toggle-option" data-metric="ppg" aria-pressed="false">PPG</button>
              </div>
            </header>
            <div class="analyzer-panel-body">
              <div class="chart-container analyzer-chart">
                <canvas id="startersValueChart" aria-label="Starting lineup comparison" role="img"></canvas>
              </div>
            </div>
          </article>

          <article class="analyzer-panel glass-panel" id="value-panel">
            <header class="analyzer-panel-header">
              <div>
                <h2>Total Roster Value</h2>
                <p>KTC distribution by position for every team.</p>
              </div>
            </header>
            <div class="analyzer-panel-body">
              <div class="chart-container analyzer-chart">
                <canvas id="overallValueChart" aria-label="Total roster value comparison" role="img"></canvas>
              </div>
            </div>
          </article>
        </div>

        <section class="analyzer-panel glass-panel analyzer-radar-section">
          <header class="analyzer-panel-header">
            <div>
              <h2>Positional Strength</h2>
              <p>See how your best starters at every required slot stack up against the league.</p>
            </div>
          </header>
          <div class="analyzer-panel-body analyzer-panel-body--stacked">
            <div class="chart-container analyzer-chart analyzer-chart--radar">
              <canvas id="radarChart" aria-label="Positional strength radar" role="img"></canvas>
            </div>
            <div class="analyzer-standings" aria-live="polite">
              <div class="analyzer-standings-header">
                <h3>League Standings</h3>
                <p>Wins, losses, and fantasy points scored.</p>
              </div>
              <div class="analyzer-standings-table-wrapper">
                <table class="analyzer-table" aria-describedby="analyzer-standings">
                  <thead>
                    <tr>
                      <th scope="col">Team</th>
                      <th scope="col">Record</th>
                      <th scope="col">PF</th>
                      <th scope="col">PA</th>
                    </tr>
                  </thead>
                  <tbody id="standingsTableBody"></tbody>
                </table>
              </div>
            </div>
          </div>
        </section>

        <section class="analyzer-panel glass-panel analyzer-leaderboard-panel">
          <header class="analyzer-panel-header">
            <div>
              <h2>League Leaders</h2>
              <p>Top 10 total fantasy scorers by position with team ownership.</p>
            </div>
            <div class="analyzer-filter-group" role="tablist" aria-label="Position filters">
              <button type="button" class="filter-chip active" data-pos="QB" role="tab" aria-selected="true">QB</button>
              <button type="button" class="filter-chip" data-pos="RB" role="tab" aria-selected="false">RB</button>
              <button type="button" class="filter-chip" data-pos="WR" role="tab" aria-selected="false">WR</button>
              <button type="button" class="filter-chip" data-pos="TE" role="tab" aria-selected="false">TE</button>
            </div>
          </header>
          <div class="analyzer-panel-body">
            <div class="analyzer-leaderboard">
              <table class="analyzer-table" aria-live="polite">
                <thead>
                  <tr>
                    <th scope="col" class="w-12">Rank</th>
                    <th scope="col">Player</th>
                    <th scope="col" class="w-20">NFL</th>
                    <th scope="col">Owner</th>
                    <th scope="col" class="w-24">FPTS</th>
                    <th scope="col" class="w-20">PPG</th>
                  </tr>
                </thead>
                <tbody id="leaderboardTableBody"></tbody>
              </table>
            </div>
          </div>
        </section>
      </section>
    </main>
  </div>

  <script src="../scripts/analyzer.js"></script>
  <script defer src="../scripts/app.js?v=20250826235225"></script>
  <script src="../scripts/loader-ring.js"></script>
</body>
</html>
